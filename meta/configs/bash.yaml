- create:
    - ~/.local/etc/bashrc.d

- shell:
    - ['[ -x "$HOME/.local/bin/starship" ] || (mkdir -p "$HOME/.local/bin" && wget -qO- https://github.com/starship/starship/releases/download/v1.24.1/starship-x86_64-unknown-linux-gnu.tar.gz | tar -xz -C "$HOME/.local/bin" starship && chmod +x "$HOME/.local/bin/starship")', Install starship]
    - ['sudo apt install --no-install-recommends -y fzf', Install deps]
    - ['sudo apt install --no-install-recommends -y fzf', Install deps]
    - [
        '[ -d "$HOME/.local/share/blesh" ] || (
            mkdir -p "$HOME/.local/share/blesh" &&
            wget -qO- https://github.com/akinomyoga/ble.sh/releases/download/nightly/ble-nightly.tar.xz |
            tar -xJ --strip-components=1 -C "$HOME/.local/share/blesh"
        )',
        Install ble.sh (nightly)
    ]
    - [
        'dpkg -s ripgrep >/dev/null 2>&1 || (
            wget -qO /tmp/ripgrep.deb https://github.com/BurntSushi/ripgrep/releases/download/15.1.0/ripgrep_15.1.0-1_amd64.deb &&
            sudo apt install -y /tmp/ripgrep.deb
        )',
        Install ripgrep 15.1.0 via apt (.deb)
    ]


- link:
    ~/.config/starship.toml:
        path: apps/starship/starship.toml
        force: true

    ~/.profile:
        path: shells/bash/profile
        force: true
    ~/.bash_logout:
        path: shells/bash/bash_logout
        force: true
    ~/.bashrc:
        path: shells/bash/bashrc
        force: true

#     # ~/.local/etc/bashrc.d/20-fzf-dh:
#     #     path: shells/bash/bashrc.d/20-fzf-dh
#     #     create: true
#     #     force: true
    ~/.local/etc/bashrc.d/25-wsl-env:
        path: shells/bash/bashrc.d/25-wsl-env
        create: true
        force: true
#     # ~/.local/etc/bashrc.d/50-php:
#     #     path: shells/bash/bashrc.d/50-php
#     #     create: true
#     #     force: true
#     ~/.local/etc/bashrc.d/50-fnm:
#         path: shells/bash/bashrc.d/50-fnm
#         create: true
#         force: true
#     # ~/.local/etc/bashrc.d/50-ssh-tmux:
#     #     path: shells/bash/bashrc.d/50-ssh-tmux
#     #     create: true
#     #     force: true

#     ~/.local/bin/edit:
#         path: apps/local/edit
#         create: true
#         force: true
#     ~/.local/bin/get-github-keys:
#         path: apps/local/get-github-keys
#         create: true
#         force: true
    ~/.local/bin/pull-all:
        path: apps/local/pull-all
        create: true
        force: true
